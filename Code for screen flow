#include <iostream>
#include <windows.h>
using namespace std;

// ---------- Utility Functions ----------

void clearScreen() {
    system("CLS");
}

void setColor(int textColor, int bgColor) {
    SetConsoleTextAttribute(
        GetStdHandle(STD_OUTPUT_HANDLE),
        textColor + (bgColor * 16)
    );
}

// ---------- NUSTeats Star Pattern ----------

void printNUSTEats() {
    setColor(1, 7); // Dark Blue text on White background

    cout << "\n";
    cout << "  ***     **    **      **   *********   ***********                                      \n";
    cout << "  *****   **    **      **   *********   ***********                        **            \n";
    cout << "  ** ***  **    **      **   ****           ***      ********  *******   ********   ******\n";
    cout << "  **  *** **    **      **     ****         ***      **    **       ***     **       **    \n";
    cout << "  **   *****    **      **      ******      ***      ********   *******     **        **   \n";
    cout << "  **    ****    **********   *********      ***      **        *    ***     **         *** \n";
    cout << "  **     ***    **********   *********      ***      ********  **********   *******  ******\n";
    cout << "\n";

    setColor(0, 7); // Reset to black text on white
}

// ---------- Welcome Message ----------

void welcomeMessage() {
    setColor(0, 7); // Black on White
    cout << "                 Welcome to NUSTeats\n";
    cout << "       Where we help you fulfill all your cravings instantly!\n\n";
}

// ---------- Screen 1 ----------

void screen1(int& budget, int& choice) {
    printNUSTEats();
    welcomeMessage();

    cout << "Enter your budget (PKR): ";
    cin >> budget;

    cout << "\nChoose Recommendation Mode:\n";
    cout << "1. Personalized\n";
    cout << "2. Randomizer\n";
    cout << "Enter choice (1 or 2): ";
    cin >> choice;
}

// ---------- Screen 2 (Personalized) ----------

void personalizedOptions(int& foodType, int& cafeChoice) {
    printNUSTEats();

    cout << "Choose Food Type:\n";
    cout << "1. Fast Food\n";
    cout << "2. Desi\n";
    cout << "3. Chinese\n";
    cout << "4. Snacks\n";
    cout << "Enter choice: ";
    cin >> foodType;

    cout << "\nChoose Cafe:\n";
    cout << "1. C1\n";
    cout << "2. C2\n";
    cout << "3. Retro\n";
    cout << "4. KFC\n";
    cout << "Enter choice: ";
    cin >> cafeChoice;
}

// ---------- Screen 2 (Randomizer) ----------

void randomizerScreen(int budget) {
    printNUSTEats();

    cout << "Random Food Recommendation\n\n";

    string cafe = "C1";
    string item = "Zinger Burger";
    int price = 420;

    cout << "Cafe  : " << cafe << endl;
    cout << "Item  : " << item << endl;
    cout << "Price : PKR " << price << endl;

    if (price > budget) {
        setColor(12, 7); // Red text on White
        cout << "\nWARNING: This item exceeds your budget!\n";
        setColor(0, 7);
    }
}

// ---------- Screen 3 (Personalized Results) ----------

void personalizedResults(int budget) {
    printNUSTEats();

    cout << "Personalized Recommendations\n\n";

    // Placeholder (my partner will add filtering logic)
    string cafe = "Retro";
    string item = "Chicken Shawarma";
    int price = 350;

    cout << "Cafe  : " << cafe << endl;
    cout << "Item  : " << item << endl;
    cout << "Price : PKR " << price << endl;

    if (price > budget) {
        setColor(12, 7); // Red warning
        cout << "\nWARNING: This item exceeds your budget!\n";
        setColor(0, 7);
    }
}

// ---------- Main Function ----------

int main() {
    int budget, choice;
    int foodType, cafeChoice;

    setColor(0, 7); // Black text, White background
    clearScreen();

    // Screen 1
    screen1(budget, choice);
    clearScreen();

    // Screen flow
    if (choice == 1) {
        personalizedOptions(foodType, cafeChoice);
        clearScreen();
        personalizedResults(budget);
    }
    else if (choice == 2) {
        randomizerScreen(budget);
    }
    else {
        cout << "Invalid choice!";
    }

    cout << "\n\nThank you for using NUSTeats!\n";
    system("pause");
    return 0;
}
